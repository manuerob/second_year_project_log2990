<div
  id="container"
  [style.height.px]="canvasHeight + 10"
  [style.width.px]="canvasWidth + 10"
>
  <div
    [ngClass]="{ drawing: drawingService.isDrawing }"
    #canvasWorkZone
    id="image"
    [style.height.px]="canvasHeight"
    [style.width.px]="canvasWidth"
    (mousedown)="onMouseDown($event)"
    (mousemove)="onMouseMove($event)"
    (mouseup)="onMouseUp($event)"
    (mouseleave)="onMouseLeave($event)"
    (mouseenter)="onMouseEnter($event)"
    (mousewheel)="onMouseWheel($event)"
    (dblclick)="onDoubleClickHandler($event)"
    (click)="onClickHandler($event)"
    (contextmenu)="onContextMenu($event)"
  >
    <app-grid *ngIf="showGrid"></app-grid>
    <svg
      version="1.1"
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      #canvas
      [attr.width]="canvasWidth"
      [attr.height]="canvasHeight"
      [style.width.px]="canvasWidth"
      [style.height.px]="canvasHeight"
      [style.viewBox.width.px]="canvasWidth"
      [style.viewBox.height.px]="canvasHeight"
      [style.background-color]="canvasColor"
    >
      <defs #filter>
        <filter
          style="color-interpolation-filters:sRGB;"
          id="air_spray"
          filterUnits= "userSpaceOnUse"
        >
          <feGaussianBlur
            stdDeviation="0.01"
            result="result1"
            id="feGaussianBlur851"
          />
          <feBlend
            in2="result1"
            result="fbSourceGraphic"
            mode="multiply"
            id="feBlend853"
          />
          <feTurbulence
            baseFrequency="0.8"
            type="fractalNoise"
            seed="0"
            numOctaves="3"
            result="result3"
            id="feTurbulence855"
          />
          <feDisplacementMap
            in="fbSourceGraphic"
            xChannelSelector="R"
            yChannelSelector="G"
            scale="50"
            result="result2"
            in2="result3"
            id="feDisplacementMap857"
          />
          <feMorphology
            radius="1"
            operator="dilate"
            result="result4"
            id="feMorphology859"
          />
          <feBlend mode="screen" in2="result2" id="feBlend861" />
        </filter>
        <filter style="color-interpolation-filters:sRGB;" id="ink_bleed" filterUnits= "userSpaceOnUse">
          <feGaussianBlur
            result="result1"
            in="SourceGraphic"
            stdDeviation="1.3"
            id="feGaussianBlur837"
          />
          <feTurbulence
            result="result0"
            numOctaves="4"
            baseFrequency="0.034"
            id="feTurbulence839"
          />
          <feDisplacementMap
            result="result2"
            scale="19.6"
            yChannelSelector="G"
            xChannelSelector="R"
            in="result1"
            in2="result0"
            id="feDisplacementMap841"
          />
          <feColorMatrix
            values="2 0 0 0 0 0 2 0 0 0 0 0 2 0 0 0 0 0 0.7 0"
            result="result3"
            id="feColorMatrix843"
          />
          <feGaussianBlur
            result="result4"
            in="SourceGraphic"
            stdDeviation="1.1"
            id="feGaussianBlur845"
          />
          <feComposite in="result4" in2="result3" id="feComposite847" />
        </filter>
        <filter id="pointillism" filterUnits= "userSpaceOnUse">
          <feTurbulence
            seed="50"
            type="fractalNoise"
            baseFrequency="1"
            numOctaves="3"
            result="result1"
            id="feTurbulence817"
          />
          <feColorMatrix
            type="luminanceToAlpha"
            in="SourceGraphic"
            result="result0"
            id="feColorMatrix819"
          />
          <feColorMatrix
            result="result2"
            values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.5 0 "
            id="feColorMatrix821"
          />
          <feComposite
            result="result3"
            operator="over"
            in="result1"
            in2="result2"
            id="feComposite823"
          />
          <feColorMatrix
            result="result91"
            values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 5 -3.2"
            id="feColorMatrix825"
          />
          <feComposite
            in2="result91"
            operator="arithmetic"
            k1="1.5"
            result="result93"
            id="feComposite827"
            k2="0"
            k3="0"
            k4="0"
          />
          <feComposite
            in2="result93"
            in="SourceGraphic"
            operator="out"
            result="result4"
            id="feComposite829"
          />
          <feComposite
            in2="result4"
            operator="arithmetic"
            k2="0.5"
            k1="1"
            id="feComposite831"
            k3="0"
            k4="0"
          />
          <feDisplacementMap
            scale="15"
            xChannelSelector="R"
            yChannelSelector="A"
            in2="result1"
            result="result92"
            id="feDisplacementMap833"
          />
        </filter>
        <filter
          style="color-interpolation-filters:sRGB;"
          id="smear"
          filterUnits= "userSpaceOnUse"
        >
          <feTurbulence
            type="fractalNoise"
            numOctaves="3"
            baseFrequency="0.25 0.4"
            seed="5"
            id="feTurbulence1089"
          />
          <feColorMatrix
            result="result5"
            values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0 "
            id="feColorMatrix1091"
          />
          <feComposite
            in="SourceGraphic"
            operator="in"
            in2="result5"
            id="feComposite1093"
          />
          <feMorphology
            operator="dilate"
            radius="1.5"
            result="result3"
            id="feMorphology1095"
          />
          <feTurbulence
            numOctaves="5"
            baseFrequency="0.03"
            type="fractalNoise"
            seed="7"
            id="feTurbulence1097"
          />
          <feGaussianBlur
            stdDeviation="0.5"
            result="result91"
            id="feGaussianBlur1099"
          />
          <feDisplacementMap
            in="result3"
            xChannelSelector="R"
            yChannelSelector="G"
            scale="27"
            result="result4"
            in2="result91"
            id="feDisplacementMap1101"
          />
          <feComposite
            in="result4"
            k3="0.8"
            k1="1.3"
            result="result2"
            operator="arithmetic"
            in2="result4"
            id="feComposite1103"
          />
          <feBlend in2="result2" mode="screen" in="result2" id="feBlend1105" />
        </filter>
        <filter style="color-interpolation-filters:sRGB;" id="leaves" filterUnits= "userSpaceOnUse">
          <feTurbulence
            baseFrequency="0.09"
            numOctaves="5"
            type="fractalNoise"
            result="result6"
            id="feTurbulence1109"
          />
          <feColorMatrix
            values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 4.9 -2.9 "
            result="result5"
            in="result6"
            id="feColorMatrix1111"
          />
          <feComposite
            in2="result5"
            operator="in"
            in="SourceGraphic"
            id="feComposite1113"
          />
          <feMorphology
            result="result3"
            radius="6"
            operator="dilate"
            id="feMorphology1115"
          />
          <feTurbulence
            baseFrequency="0.2"
            numOctaves="1"
            type="fractalNoise"
            result="result91"
            id="feTurbulence1117"
          />
          <feDisplacementMap
            result="result4"
            scale="15"
            yChannelSelector="G"
            xChannelSelector="R"
            in="result3"
            in2="result91"
            id="feDisplacementMap1119"
          />
          <feComposite
            in2="result4"
            operator="arithmetic"
            result="result2"
            k1="0.5"
            k3="1"
            id="feComposite1121"
          />
          <feConvolveMatrix
            order="3 3"
            kernelMatrix="1 0 0 0 2 0 0 0 -1 "
            targetX="0"
            targetY="0"
            divisor="1.5"
            edgeMode="duplicate"
            in="result2"
            id="feConvolveMatrix1123"
          />
        </filter>
        <filter style="color-interpolation-filters:sRGB;" id="cool" filterUnits= "userSpaceOnUse">
          <feGaussianBlur
            stdDeviation="2"
            result="result1"
            id="feGaussianBlur1701"
          />
          <feOffset dx="2" dy="2" id="feOffset1703" />
          <feConvolveMatrix
            result="result3"
            order="3 3"
            kernelMatrix="2 0 0 0 8 0 4 0 -4 "
            divisor="2"
            bias="0"
            targetX="0"
            id="feConvolveMatrix1705"
          />
          <feComposite
            operator="xor"
            result="result2"
            in="result3"
            in2="result1"
            id="feComposite1707"
          />
          <feBlend
            mode="multiply"
            result="result4"
            in="fbSourceGraphic"
            in2="result3"
            id="feBlend1711"
          />
          <feComposite
            operator="in"
            result="result6"
            in="fbSourceGraphic"
            in2="result4"
            id="feComposite1713"
          />
        </filter>
      </defs>
    </svg>
  </div>
</div>
